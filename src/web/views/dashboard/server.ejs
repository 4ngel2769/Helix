<!DOCTYPE html>
<html>
<head>
    <title><%= guild.name %> - Settings</title>
</head>
<body>
    <div id="toast" class="toast"></div>

    <form data-guild-id="<%= guild.id %>" id="settingsForm" action="/api/guilds/<%= guild.id %>/settings" method="POST">
        <div class="setting-group">
            <h2>Verification Settings</h2>
            <label>
                Verification Message:
                <textarea name="verificationMessage"><%= guildData?.verificationMessage || '' %></textarea>
            </label>
            
            <label>
                <input type="checkbox" name="verificationEnabled" 
                       <%= guildData?.verificationEnabled ? 'checked' : '' %>>
                Enable Verification System
            </label>
        </div>

        <div class="setting-group">
            <h2>Welcome Message</h2>
            <label>
                Welcome Channel:
                <select name="welcomeChannel">
                    <option value="">Disabled</option>
                    <% guild.channels.cache.filter(c => c.type === 0).forEach(function(channel) { %>
                        <option value="<%= channel.id %>" 
                                <%= guildData?.welcomeChannel === channel.id ? 'selected' : '' %>>
                            <%= channel.name %>
                        </option>
                    <% }); %>
                </select>
            </label>
            
            <label>
                Welcome Message:
                <textarea name="welcomeMessage"><%= guildData?.welcomeMessage || '' %></textarea>
            </label>
        </div>

        <button type="submit">Save Changes</button>
    </form>

    <a href="/dashboard">Back to Dashboard</a>

    <script src="/js/settings.js"></script>
</body>
</html> 